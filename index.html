<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>UX検定 単語帳</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="app-header">
    <h1>UX検定 単語帳</h1>
    <button id="menuButton" class="icon-btn" aria-label="メニュー">☰</button>
  </header>

  <nav id="drawer" class="drawer hidden" aria-hidden="true">
    <div class="drawer-inner">
      <button id="closeDrawer" class="icon-btn close">×</button>
      <h2>設定 & モード</h2>
      <div class="control">
        <label for="mode">モード</label>
        <select id="mode">
          <option value="study">学習モード（即時判定）</option>
          <option value="exam">試験モード（最後に判定）</option>
        </select>
      </div>
      <div class="control">
        <label for="seconds">制限時間（1問）</label>
        <input id="seconds" type="number" min="5" max="180" step="5" value="20" />
      </div>
      <div class="control">
        <label for="deckFilter">出題範囲</label>
        <select id="deckFilter">
          <option value="all">すべて</option>
          <option value="wrong">間違えた問題のみ</option>
          <option value="new">未出題のみ</option>
        </select>
      </div>
      <div class="control">
        <label><input type="checkbox" id="shuffle" checked /> シャッフル</label>
      </div>
      <div class="control">
        <button id="resetStats" class="danger">学習履歴をリセット</button>
      </div>
      <div class="footer-note">
        <small>ローカル保存: 正答率・誤答問題は端末内（localStorage）に保存されます。</small>
      </div>
    </div>
  </nav>

  <main class="container">
    <section id="intro" class="card">
      <p>「開始」を押すと出題が始まります。学習モードは即時フィードバック、試験モードは最後にまとめて採点します。</p>
      <button id="startButton" class="primary">開始</button>
    </section>

    <section id="quiz" class="card hidden" aria-live="polite">
      <div class="status">
        <div id="progressText">1 / 10</div>
        <div id="timer" class="timer">20</div>
      </div>
      <div class="progress-bar"><div id="progressBar" class="progress"></div></div>
      <h2 id="questionText" class="question">読み込み中…</h2>
      <input id="answerInput" type="text" inputmode="text" placeholder="ここに回答を入力" autofocus />
      <div class="actions">
        <button id="revealBtn" class="ghost">ヒント/定義を見る</button>
        <button id="skipBtn" class="ghost">スキップ</button>
        <button id="submitBtn" class="primary">送信</button>
      </div>
      <div id="instantResult" class="instant hidden"></div>
    </section>

    <section id="result" class="card hidden">
      <h2>結果</h2>
      <p id="scoreLine"></p>
      <div class="actions">
        <button id="retryWrong" class="secondary">誤答だけでやり直す</button>
        <button id="retryAll" class="primary">もう一度</button>
      </div>

      <details class="review">
        <summary>間違えた問題の振り返り</summary>
        <div id="reviewList"></div>
      </details>
    </section>
  </main>

  <footer class="app-footer">
    <small>© 2025 UX Flashcards — オフラインで使える単語帳</small>
  </footer>

  <script src="script.js"></script>
</body>
</html>
